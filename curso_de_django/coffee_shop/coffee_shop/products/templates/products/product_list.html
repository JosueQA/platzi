{% extends 'base.html' %} 

{% block title %}Product List - Coffee Shop{% endblock %} 

{% block header_title %} â˜• Coffee Shop - productos{% endblock %}


{% block content %} 
<h1>{{ title }}</h1>
<ul class="flex justify-center gap-4 flex-wrap">
    {% for product in products %}
        <li class="flex rounded-md border border-gray-300 p-4 shadow-sm sm:p-6 basis-1/4" 
            style="padding: 8px;">
            <a href="#" class="block ">
            <div class="sm:flex sm:justi    fy-between sm:gap-4 lg:gap-6">
                
                {% if product.photo %}
               <div class="sm:order-last sm:shrink-0">
                    <img
                        src="{{ product.photo.url }}"
                        alt="{{ product.name }}"
                        height="250"
                        width="200"
                        class="size-16 rounded-full object-cover sm:size-[120px]">
                {% else %}  
                {% endif %}
                </div>

                <div class="mt-4 sm:mt-0">
                <h3 class="text-lg font-medium text-pretty text-gray-900 capitalize">
                    {{ product.name }}
                </h3>

                <p class="mt-1 text-sm text-gray-700">Precio unit.: $ {{ product.price }} </p>

                <p class="mt-4 line-clamp-2 text-sm text-pretty text-gray-700">
                    Descripcion: {{ product.description }}
                </p>
                </div>
            </div>
            <dl class="mt-6 flex gap-4 lg:gap-6">
                <div class="flex items-center gap-2">
                <dt class="text-gray-700">
                    <span class="sr-only"> Published on </span>

                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"></path>
                    </svg>
                </dt>

                {% if product.available %} 
                <form class="mt-4" method="post" action="{% url 'my_order_product' %}">
                    {% csrf_token %}
                    <label class="block text-sm font-medium text-gray-700">Cantidad:</label>
                    <input type="number" name="quantity" min="1" value="1" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <input type="hidden" name="product" value="{{ product.id }}">
                    <button class="mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Agregate</button>
                </form>
                {% else %} 
                <dd class="block text-sm font-medium text-gray-700">
                    Disponibilidad: Agotado 
                </dd>
                {% endif %}
                </div>
            </dl>
            </a>

                
        </li>
    {% empty %}
        <li>No products available.</li>
    {% endfor %}
</ul>
{% endblock %}


