{% extends 'base.html' %}

{% block content %}
  <div class="max-w-6xl mx-auto p-6">
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
      {% if object.orderproduct_set.all %}
        <div class="bg-gradient-to-r from-[var(--secundario)] to-[var(--primario)] text-white p-6">
          <h1 class="text-3xl font-bold">Order # {{ object.id }}</h1>
          <p class="text-amber-100 mt-2">Order Date: {{ object.order_date|date:'F j, Y' }}</p>
        </div>

        <div class="p-6">
          <div class="overflow-x-auto">
            <table class="min-w-full table-auto border-collapse">
              <thead>
                <tr class="bg-gray-100">
                  <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
                  <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Item</th>
                  <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quantity</th>
                  <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                  <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                {% for product in object.orderproduct_set.all %}
                  <tr class="hover:bg-gray-50 transition-colors duration-200">
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ forloop.counter }}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">{{ product.product.name }}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">{{ product.quantity }}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${{ product.product.price|floatformat:2 }}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-semibold text-amber-600">${{ product.total_price|floatformat:2 }}</td>
                  </tr>
                {% endfor %}
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td class="text-xl font-semibold text-gray-800">Subtotal:</td>
                  <td class="px-4 py-4 whitespace-nowrap text-sm font-semibold text-amber-600">${{ object.sub_total|floatformat:2 }}</td>
                </tr>
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td class="text-xl font-semibold text-gray-800">IGV:</td>
                  <td class="px-4 py-4 whitespace-nowrap text-sm font-semibold text-amber-600">${{ object.IGV|floatformat:2 }}</td>
                </tr>
                <tr class="hover:bg-gray-50 transition-colors duration-200">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td class="text-xl font-semibold text-gray-800">Total:</td>
                  <td class="px-4 py-4 whitespace-nowrap text-sm font-semibold text-amber-600">${{ object.total_cost }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      {% else %}
        <div class="text-center py-8">
          <p class="text-gray-500 text-lg">No items in this order.</p>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}
